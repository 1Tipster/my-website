---
import { getCollection, render } from 'astro:content';
import EventPage from '../../layouts/EventPage.astro';

export async function getStaticPaths() {
  const events = await getCollection('events');
  return events.map((event) => ({
    params: { slug: event.id },
    props: event,
  }));
}

const event = Astro.props;
const { Content } = await render(event);
---

<EventPage
  title={event.data.title}
  description={event.data.description}
  date={event.data.date}
  endDate={event.data.endDate}
  location={event.data.location}
  url={event.data.url}
  photos={event.data.photos}
>
  <Content />
</EventPage>
